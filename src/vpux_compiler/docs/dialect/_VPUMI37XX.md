<!-- Autogenerated by mlir-tblgen; don't manually edit -->
# 'VPUMI37XX' Dialect

VPU NN Mapped Inference RunTime Dialect for arch VPUX37XX
The **VPUMI37XX Dialect** represents NN RunTime IR together with MappedInference
    constructs in terms of the MLIR framework.
    This is specific for VPU37XX HW architecture.

[./VPUMI37XX/_ops_interfaces.md]

[TOC]

## Operation definition

### `VPUMI37XX.ActKernelInvocation` (vpux::VPUMI37XX::ActKernelInvocationOp)

Activation Kernel Invocation


Syntax:

```
operation ::= `VPUMI37XX.ActKernelInvocation` attr-dict
              (`taskLocation` `(` $taskLocation^ `:` type($taskLocation) `)`)?
              `range_index` `(` $range_index `:` type($range_index) `)`
              (`profiling_data` `(` $profiling_data^ `:` type($profiling_data) `)`)?
              (`waits` `(` $waitBarriers^ `:` type($waitBarriers) `)`)?
              (`updates` `(` $updateBarriers^ `:` type($updateBarriers) `)`)?
              `tile` `(` $tile `)`
              `start_after` `(` $start_after `)`
              `clean_after` `(` $clean_after `)`
              `->` type(results)
```


Traits: AttrSizedOperandSegments, VPUMI37XX_SingleOutputAsIndexOp

Interfaces: BinaryOpInterface, ExecutableTaskOpInterface, GetOffsetOfOpInterface, TaskOpInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `tile` | ::mlir::IntegerAttr | 64-bit unsigned integer attribute
| `start_after` | ::mlir::IntegerAttr | 64-bit unsigned integer attribute
| `clean_after` | ::mlir::IntegerAttr | 64-bit unsigned integer attribute

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `taskLocation` | VPUregMapped Index type
| `waitBarriers` | VPUregMapped Index type
| `updateBarriers` | VPUregMapped Index type
| `range_index` | VPUregMapped Index type
| `profiling_data` | memref of 32-bit unsigned integer values

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

### `VPUMI37XX.ActKernelRange` (vpux::VPUMI37XX::ActKernelRangeOp)

Activation Kernel Range


Syntax:

```
operation ::= `VPUMI37XX.ActKernelRange` attr-dict
              (`taskLocation` `(` $taskLocation^ `:` type($taskLocation) `)`)?
              `kernel_text_index` `(` $kernel_text_index `:` type($kernel_text_index) `)`
              `kernel_args_index` `(` $kernel_args_index `:` type($kernel_args_index) `)`
              `kernel_entry_index` `(` $kernel_entry_index `:` type($kernel_entry_index) `)`
              `->` type(results)
```


Traits: VPUMI37XX_SingleOutputAsIndexOp

Interfaces: BinaryOpInterface, GetOffsetOfOpInterface, TaskOpInterface

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `taskLocation` | VPUregMapped Index type
| `kernel_text_index` | VPUregMapped Index type
| `kernel_args_index` | VPUregMapped Index type
| `kernel_entry_index` | VPUregMapped Index type

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

### `VPUMI37XX.ActShaveRt` (vpux::VPUMI37XX::ActShaveRtOp)

Declaration of Act Shave Management Kernel


Syntax:

```
operation ::= `VPUMI37XX.ActShaveRt` attr-dict `kernel` `(` $kernel_path `)` `->` type(results)
```


Traits: DeclarationOp, VPUMI37XX_SingleOutputAsIndexOp

Interfaces: BinaryOpInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `kernel_path` | ::mlir::StringAttr | string attribute

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

### `VPUMI37XX.ConfigureBarrier` (vpux::VPUMI37XX::ConfigureBarrierOp)

A task to configure the setup for a barrier


Syntax:

```
operation ::= `VPUMI37XX.ConfigureBarrier` attr-dict
              `<` $id `,` $next_same_id `>`
              `->` type(results)
```


Traits: DeclarationOp, VPUMI37XX_SingleOutputAsIndexOp

Interfaces: BinaryOpInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `id` | ::mlir::IntegerAttr | 8-bit signless integer attribute
| `next_same_id` | ::mlir::IntegerAttr | 32-bit signed integer attribute
| `producer_count` | ::mlir::IntegerAttr | 8-bit unsigned integer attribute
| `consumer_count` | ::mlir::IntegerAttr | 8-bit unsigned integer attribute

#### Results:

| Result | Description |
| :----: | ----------- |
| `barrier` | VPUregMapped Index type

### `VPUMI37XX.DPUInvariant` (vpux::VPUMI37XX::DPUInvariantOp)

DPU Invariant Op


Syntax:

```
operation ::= `VPUMI37XX.DPUInvariant` attr-dict
              (`taskLocation` `(` $taskLocation^ `:` type($taskLocation) `)`)?
              `input` `(` $input  `:` type($input) `)`
              (`input_sparsity_map` `(` $input_sparsity_map^  `:` type($input_sparsity_map) `)`)?
              (`input_storage_element_table` `(` $input_storage_element_table^  `:` type($input_storage_element_table) `)`)?
              (`weights` `(` $weights^  `:` type($weights) `)`)?
              (`weights_sparsity_map` `(` $weights_sparsity_map^  `:` type($weights_sparsity_map) `)`)?
              (`weight_table` `(` $weight_table^  `:` type($weight_table) `)`)?
              `parent_input` `(` $parent_input `:` type($parent_input) `)`
              (`parent_input_sparsity_map` `(` $parent_input_sparsity_map^  `:` type($parent_input_sparsity_map) `)`)?
              (`parent_input_storage_element_table` `(` $parent_input_storage_element_table^  `:` type($parent_input_storage_element_table) `)`)?
              `parent_output` `(` $parent_output `:` type($parent_output) `)`
              (`parent_output_sparsity_map` `(` $parent_output_sparsity_map^  `:` type($parent_output_sparsity_map) `)`)?
              (`outputs` `(` $output_buffs^ `:` type($output_buffs) `)`)?
              (`output_sparsity_map_buff` `(` $output_sparsity_map_buff^  `:` type($output_sparsity_map_buff) `)`)?
              (`profiling_data` `(` $profiling_data^  `:` type($profiling_data) `)`)?
              (`waits` `(` $waitBarriers^ `:` type($waitBarriers) `)`)?
              (`updates` `(` $updateBarriers^ `:` type($updateBarriers) `)`)?
              `->` type($index)
              `PPE` `:` $ppe
```


Traits: AttrSizedOperandSegments, HasOnlyGraphRegion, NoTerminator, SingleBlock, VPUMI37XX_SingleOutputAsIndexOp

Interfaces: BinaryOpInterface, ExecutableTaskOpInterface, GetOffsetOfOpInterface, RegionKindInterface, TaskOpInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `nce_task_type` | vpux::VPUIP::NCETaskTypeAttr | NCE task type
| `mpe_frequent_mode` | vpux::VPU::MPEModeAttr | MPE Mode
| `kernel_size` | ::mlir::ArrayAttr | 64-bit integer array attribute
| `kernel_strides` | ::mlir::ArrayAttr | 64-bit integer array attribute
| `kernel_padding` | vpux::VPU::PaddingAttr | 
| `activation_window_channel_length` | mlir::IntegerAttr | Integer attribute
| `is_continued` | ::mlir::UnitAttr | unit attribute
| `cm_sp_pattern` | mlir::IntegerAttr | Integer attribute
| `is_segmented` | ::mlir::UnitAttr | unit attribute
| `input_channels_compression` | ::mlir::UnitAttr | unit attribute
| `out_channel_offset` | mlir::IntegerAttr | Integer attribute
| `is_superdense` | ::mlir::UnitAttr | unit attribute
| `is_inplace` | ::mlir::BoolAttr | bool attribute
| `input_se_size` | mlir::IntegerAttr | Integer attribute
| `output_se_size` | mlir::IntegerAttr | Integer attribute
| `is_permute_quantize` | ::mlir::UnitAttr | unit attribute
| `profilingMetadata` | vpux::VPUIP::DpuProfilingMetadataAttr | 
| `start_after` | ::mlir::IntegerAttr | 64-bit unsigned integer attribute
| `clean_after` | ::mlir::IntegerAttr | 64-bit unsigned integer attribute

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `taskLocation` | VPUregMapped Index type
| `input` | memref of 16-bit float or bfloat16 type or QuantizedType values
| `input_sparsity_map` | memref of 1-bit signless integer values
| `input_storage_element_table` | memref of 32-bit signless integer values
| `weights` | memref of 16-bit float or bfloat16 type or QuantizedType values
| `weights_sparsity_map` | memref of 1-bit signless integer values
| `weight_table` | memref of 32-bit signed integer values
| `parent_input` | memref of any type values or VPUIP buffer type to describe the buffer tiling
| `parent_input_sparsity_map` | memref of 1-bit signless integer values or VPUIP buffer type to describe the buffer tiling
| `parent_input_storage_element_table` | memref of 32-bit signless integer values or VPUIP buffer type to describe the buffer tiling
| `parent_output` | memref of any type values or VPUIP buffer type to describe the buffer tiling
| `parent_output_sparsity_map` | memref of 1-bit signless integer values or VPUIP buffer type to describe the buffer tiling
| `output_buffs` | memref of 16-bit float or 32-bit float or bfloat16 type or QuantizedType values
| `output_sparsity_map_buff` | memref of 1-bit signless integer values or VPUIP buffer type to describe the buffer tiling
| `profiling_data` | memref of 64-bit unsigned integer values or VPUIP buffer type to describe the buffer tiling
| `waitBarriers` | VPUregMapped Index type
| `updateBarriers` | VPUregMapped Index type

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

### `VPUMI37XX.DPUVariant` (vpux::VPUMI37XX::DPUVariantOp)

DPU Variant Op


Traits: VPUMI37XX_SingleOutputAsIndexOp

Interfaces: BinaryOpInterface, GetOffsetOfOpInterface, TaskOpInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `start` | ::mlir::ArrayAttr | 64-bit integer array attribute
| `end` | ::mlir::ArrayAttr | 64-bit integer array attribute
| `pad` | vpux::VPU::PaddingAttr | 
| `mpe_mode` | vpux::VPU::MPEModeAttr | MPE Mode
| `cluster_id` | mlir::IntegerAttr | Integer attribute
| `workload_id` | mlir::IntegerAttr | Integer attribute

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `taskLocation` | VPUregMapped Index type
| `Invariant` | VPUregMapped Index type

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

### `VPUMI37XX.DeclareKernelArgs` (vpux::VPUMI37XX::DeclareKernelArgsOp)

Declaration of Software Kernel .args


Syntax:

```
operation ::= `VPUMI37XX.DeclareKernelArgs` attr-dict `kernel_path` `(` $kernel_path `)` `->` type(results)
```


Traits: DeclarationOp, VPUMI37XX_SingleOutputAsIndexOp

Interfaces: BinaryOpInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `kernel_path` | ::mlir::StringAttr | string attribute

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

### `VPUMI37XX.DeclareKernelEntry` (vpux::VPUMI37XX::DeclareKernelEntryOp)

Declaration of Kernel Entry


Syntax:

```
operation ::= `VPUMI37XX.DeclareKernelEntry` attr-dict `kernel_path` `(` $kernel_path `)` `->` type(results)
```


Traits: DeclarationOp, VPUMI37XX_SingleOutputAsIndexOp

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `kernel_path` | ::mlir::StringAttr | string attribute

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

### `VPUMI37XX.DeclareKernelText` (vpux::VPUMI37XX::DeclareKernelTextOp)

Declaration of Software Kernel .text 


Syntax:

```
operation ::= `VPUMI37XX.DeclareKernelText` attr-dict `kernel_path` `(` $kernel_path `)` `->` type(results)
```


Traits: DeclarationOp, VPUMI37XX_SingleOutputAsIndexOp

Interfaces: BinaryOpInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `kernel_path` | ::mlir::StringAttr | string attribute

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

### `VPUMI37XX.KernelParams` (vpux::VPUMI37XX::KernelParamsOp)

Kernel Params


Syntax:

```
operation ::= `VPUMI37XX.KernelParams` attr-dict
              `inputs` `(` $inputs `:` type($inputs) `)`
              `outputs` `(` $outputs `:` type($outputs) `)`
              (`input_dims` `(` $input_dims^ `:` type($input_dims) `)`)?
              (`output_dims` `(` $output_dims^ `:` type($output_dims) `)`)?
              `kernel_type` `(` $kernel_type `)`
              `kernel_params` `(` $kernel_params `)`
              `->` type(results)
```

This operation contains description of parameters for software kernel.
It can be used to cover dynamic and static shapes. Dynamic shapes are represented by
input_dims and output_dims arguments. If shape does not require to be dynamic the corresponding argument
can be omitted. The shape is resolved via kernel_params for this case.

Currently, dynamic shape is supported only for single input/output.

Traits: AttrSizedOperandSegments, VPUMI37XX_SingleOutputAsIndexOp

Interfaces: BinaryOpInterface, GetOffsetOfOpInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `kernel_type` | ::mlir::StringAttr | string attribute
| `kernel_params` | ::mlir::ElementsAttr | constant vector/tensor attribute

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `inputs` | memref of any type values
| `outputs` | memref of any type values
| `input_dims` | memref of any type values
| `output_dims` | memref of any type values

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

### `VPUMI37XX.MappedInference` (vpux::VPUMI37XX::MappedInferenceOp)

Task representing the MappedInference structure


Syntax:

```
operation ::= `VPUMI37XX.MappedInference` attr-dict
              (`dmas` `(` $dmaTasks^ `:` type($dmaTasks) `)`)?
              (`invariants` `(` $invariantTasks^ `:` type($invariantTasks) `)`)?
              (`variants` `(` $variantTasks^ `:` type($variantTasks) `)`)?
              (`actKernelRanges` `(` $actKernelRanges^ `:` type($actKernelRanges) `)`)?
              (`actKernelInvocations` `(` $actKernelInvocations^ `:` type($actKernelInvocations) `)`)?
              (`barriers` `(` $barrierTasks^ `:` type($barrierTasks) `)` )?
              (`actShaveRt` `(` $actShaveRt^ `:` type($actShaveRt) `)` )?
              (`actShaveStacks` `(` $actShaveStacks^ `:` type($actShaveStacks) `)`)?
              `dmaCount` `(` $dmaCount `)`
              `invariantCount` `(` $invariantCount `)`
              `variantCount` `(` $variantCount `)`
              `actKernelRangesCount` `(` $actKernelRangesCount `)`
              `actKernelInvocationsCount` `(` $actKernelInvocationsCount `)`
              `barrierCount` `(` $barrierCount `)`
              `->` type(results)
```


Traits: AttrSizedOperandSegments, VPUMI37XX_SingleOutputAsIndexOp

Interfaces: BinaryOpInterface, GetOffsetOfOpInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `dmaCount` | ::mlir::ArrayAttr | 64-bit integer array attribute
| `invariantCount` | ::mlir::IntegerAttr | 32-bit unsigned integer attribute
| `variantCount` | ::mlir::IntegerAttr | 32-bit unsigned integer attribute
| `actKernelRangesCount` | ::mlir::IntegerAttr | 32-bit unsigned integer attribute
| `actKernelInvocationsCount` | ::mlir::IntegerAttr | 32-bit unsigned integer attribute
| `barrierCount` | ::mlir::IntegerAttr | 32-bit unsigned integer attribute

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `dmaTasks` | VPUregMapped Index type
| `invariantTasks` | VPUregMapped Index type
| `variantTasks` | VPUregMapped Index type
| `actKernelRanges` | VPUregMapped Index type
| `actKernelInvocations` | VPUregMapped Index type
| `barrierTasks` | VPUregMapped Index type
| `actShaveRt` | VPUregMapped Index type
| `actShaveStacks` | memref of any type values

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

### `VPUMI37XX.NNDMA` (vpux::VPUMI37XX::NNDMAOp)

NN DMA task


Syntax:

```
operation ::= `VPUMI37XX.NNDMA` attr-dict
              (`taskLocation` `(` $taskLocation^ `:` type($taskLocation) `)`)?
              `inputs` `(` $input `:` type($input) `)`
              (`outputs` `(` $output_buffs^ `:` type($output_buffs) `)`)?
              ( `previousDMA` `(` $previousDMAIdx^ `:` type($previousDMAIdx) `)`)?
              (`waits` `(` $waitBarriers^ `:` type($waitBarriers) `)`)?
              (`updates` `(` $updateBarriers^ `:` type($updateBarriers) `)`)?
              `start_after` `(` $start_after `)`
              `clean_after` `(` $clean_after `)`
              `->` type(results)
```


Traits: AttrSizedOperandSegments, VPUMI37XX_SingleOutputAsIndexOp

Interfaces: BinaryOpInterface, ExecutableTaskOpInterface, GetOffsetOfOpInterface, TaskOpInterface

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `compression` | ::mlir::UnitAttr | unit attribute
| `start_after` | ::mlir::IntegerAttr | 64-bit unsigned integer attribute
| `clean_after` | ::mlir::IntegerAttr | 64-bit unsigned integer attribute
| `is_out_of_order` | ::mlir::UnitAttr | unit attribute
| `is_critical` | ::mlir::UnitAttr | unit attribute
| `port` | mlir::IntegerAttr | Integer attribute
| `dma_descriptor` | vpux::VPUIP::DMADescriptorAttr | 

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `taskLocation` | VPUregMapped Index type
| `input` | memref of any type values
| `output_buffs` | memref of any type values
| `previousDMAIdx` | VPUregMapped Index type
| `waitBarriers` | VPUregMapped Index type
| `updateBarriers` | VPUregMapped Index type

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

### `VPUMI37XX.NetworkMetadata` (vpux::VPUMI37XX::NetworkMetadataOp)

Network Metadata Op


Syntax:

```
operation ::= `VPUMI37XX.NetworkMetadata` attr-dict `->` type(results)
```


Interfaces: BinaryOpInterface

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

### `VPUMI37XX.ProfilingMetadata` (vpux::VPUMI37XX::ProfilingMetadataOp)

Profiling Metadata Op


Syntax:

```
operation ::= `VPUMI37XX.ProfilingMetadata` attr-dict `->` type(results)
```


Interfaces: BinaryOpInterface

#### Results:

| Result | Description |
| :----: | ----------- |
| `index` | VPUregMapped Index type

## Attribute definition

### MPEModeAttr

MPE Mode

Syntax:

```
!VPUMI37XX.mpe_mode<
  vpux::VPUMI37XX::MPEMode   # value
>
```


#### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| value | `vpux::VPUMI37XX::MPEMode` | an enum of type MPEMode |

### PPELayerTypeAttr

Post Processing Element Type

Syntax:

```
!VPUMI37XX.ppe_layer_type<
  vpux::VPUMI37XX::PPELayerType   # value
>
```


#### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| value | `vpux::VPUMI37XX::PPELayerType` | an enum of type PPELayerType |

